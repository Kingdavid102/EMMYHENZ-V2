const settings = require('../settings');
const fs = require('fs');
const path = require('path');
const os = require('os');

function formatTime(seconds) {
    const days = Math.floor(seconds / (24 * 60 * 60));
    seconds = seconds % (24 * 60 * 60);
    const hours = Math.floor(seconds / (60 * 60));
    seconds = seconds % (60 * 60);
    const minutes = Math.floor(seconds / 60);
    seconds = Math.floor(seconds % 60);

    let time = '';
    if (days > 0) time += `${days}d `;
    if (hours > 0) time += `${hours}h `;
    if (minutes > 0) time += `${minutes}m `;
    if (seconds > 0 || time === '') time += `${seconds}s`;

    return time.trim();
}

async function helpCommand(sock, chatId, message) {
        const start = Date.now();
        await sock.sendMessage(chatId, { text: '_ğŸŒ¿â„ğ„ğŒğŒğ˜ğ‡ğ„ğğ™-ğ•2â„ğŸŒ¿ ğ•»ğ–—ğ–”ğ–ˆğ–Šğ–˜ğ–˜ğ–ğ–“ğ–Œâ¤ï¸â€ğŸ”¥..._' }, { quoted: message });
        const end = Date.now();
        const ping = Math.round((end - start) / 2);

        const uptimeInSeconds = process.uptime();
        const uptimeFormatted = formatTime(uptimeInSeconds);
    const helpMessage = `
    
â•”â•â•â•â•â•â•â•â•â•â—‡â—†â—‡â•â•â•â•â•â•â•â•â•â•—
â”œâ–¢ *ğ—¡ğ—”ğ— ğ—˜: â„ğŸŒ¿ ğ„ğŒğŒğ˜ğ‡ğ„ğğ™-ğ•ğŸ â¤ï¸â€ğŸ”¥*
â”œâ–¢ *ğ—¢ğ—ªğ—¡ğ—˜ğ—¥: ${settings.botOwner}*
â”œâ–¢ *ğ—§ğ—œğ— ğ—˜: ${new Date().toLocaleString()}*
â”œâ–¢ *ğ—¥ğ—¨ğ—¡ğ—§ğ—œğ— ğ—˜: ${uptimeFormatted}*
â”œâ–¢ *ğ—£ğ—œğ—¡ğ—š: ${ping} ms*
â”œâ–¢ *ğ—©ğ—˜ğ—¥ğ—¦ğ—œğ—¢ğ—¡: v${settings.version}*
â”œâ–¢ *ğ†ğğ­ ğğ§ğ ğ…ğ«ğğ ğğ¨ğ­*: bot-connect.emmyhenztech.space
â•šâ•â•â•â•â•â•â•â•â•â—‡â—†â—‡â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ   ğŸ›¡ï¸ ğ—¦ğ—˜ğ—–ğ—¨ğ—¥ğ—œğ—§ğ—¬ ğ— ğ—˜ğ—¡ğ—¨ [V2]
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .encrypt *[NEW]*
â”ƒâ”œâ–¢ .decrypt *[NEW]*
â”ƒâ”œâ–¢ .antibadword
â”ƒâ”œâ–¢ .antilink
â”ƒâ”œâ–¢ .antidelete
â”ƒâ”œâ–¢ .anticall
â”ƒâ”œâ–¢ .pmpermit
â”ƒâ”œâ–¢ .pmapprove
â”ƒâ”œâ–¢ .pmblock
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ   ğŸ”§ ğ—£ğ—¥ğ—¢ğ——ğ—¨ğ—–ğ—§ğ—œğ—©ğ—œğ—§ğ—¬ [V2]
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .reminder *[NEW]*
â”ƒâ”œâ–¢ .calculator *[NEW]*
â”ƒâ”œâ–¢ .calc *[NEW]*
â”ƒâ”œâ–¢ .password *[NEW]*
â”ƒâ”œâ–¢ .hash *[NEW]*
â”ƒâ”œâ–¢ .base64 *[NEW]*
â”ƒâ”œâ–¢ .binary *[NEW]*
â”ƒâ”œâ–¢ .timestamp *[NEW]*
â”ƒâ”œâ–¢ .qrcode
â”ƒâ”œâ–¢ .shorturl
â”ƒâ”œâ–¢ .translate
â”ƒâ”œâ–¢ .screenshot
â”ƒâ”œâ–¢ .ss
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğŸ² ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ğ—§ğ—”ğ—œğ—¡ğ— ğ—˜ğ—¡ğ—§ [V2]
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .dice *[NEW]*
â”ƒâ”œâ–¢ .coin *[NEW]*
â”ƒâ”œâ–¢ .random *[NEW]*
â”ƒâ”œâ–¢ .pick *[NEW]*
â”ƒâ”œâ–¢ .age *[NEW]*
â”ƒâ”œâ–¢ .riddle *[NEW]*
â”ƒâ”œâ–¢ .roast *[NEW]*
â”ƒâ”œâ–¢ .joke
â”ƒâ”œâ–¢ .8ball
â”ƒâ”œâ–¢ .truth
â”ƒâ”œâ–¢ .dare
â”ƒâ”œâ–¢ .tictactoe
â”ƒâ”œâ–¢ .hangman
â”ƒâ”œâ–¢ .trivia
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğŸ“ ğ—§ğ—˜ğ—«ğ—§ ğ—§ğ—¢ğ—¢ğ—Ÿğ—¦ [V2]
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .count *[NEW]*
â”ƒâ”œâ–¢ .reverse *[NEW]*
â”ƒâ”œâ–¢ .case *[NEW]*
â”ƒâ”œâ–¢ .palindrome *[NEW]*
â”ƒâ”œâ–¢ .tts
â”ƒâ”œâ–¢ .attp
â”ƒâ”œâ–¢ .lyrics
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğŸ“Š ğ—šğ—¥ğ—¢ğ—¨ğ—£ ğ—”ğ—–ğ—§ğ—œğ—©ğ—œğ—§ğ—œğ—˜ğ—¦ [V2]
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .poll *[NEW]*
â”ƒâ”œâ–¢ .vote *[NEW]*
â”ƒâ”œâ–¢ .results *[NEW]*
â”ƒâ”œâ–¢ .chatbot
â”ƒâ”œâ–¢ .tag
â”ƒâ”œâ–¢ .tagall
â”ƒâ”œâ–¢ .hidetag
â”ƒâ”œâ–¢ .tagadmins
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğŸ’± ğ—™ğ—œğ—¡ğ—”ğ—¡ğ—–ğ—˜ [V2]
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .currency *[NEW]*
â”ƒâ”œâ–¢ .crypto *[NEW]*
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ ğŸ‘¬ ğ—šğ—¥ğ—¢ğ—¨ğ—£ ğ— ğ—”ğ—¡ğ—”ğ—šğ—˜ğ—¥ [V2]
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .ban
â”ƒâ”œâ–¢ .unban
â”ƒâ”œâ–¢ .promote
â”ƒâ”œâ–¢ .demote
â”ƒâ”œâ–¢ .mute
â”ƒâ”œâ–¢ .unmute
â”ƒâ”œâ–¢ .kick
â”ƒâ”œâ–¢ .kickall
â”ƒâ”œâ–¢ .add
â”ƒâ”œâ–¢ .slowmode *[NEW]*
â”ƒâ”œâ–¢ .lockgroup *[NEW]*
â”ƒâ”œâ–¢ .unlockgroup *[NEW]*
â”ƒâ”œâ–¢ .setname
â”ƒâ”œâ–¢ .setdesc
â”ƒâ”œâ–¢ .revoke
â”ƒâ”œâ–¢ .resetlink
â”ƒâ”œâ–¢ .creategc
â”ƒâ”œâ–¢ .leavegc
â”ƒâ”œâ–¢ .welcome
â”ƒâ”œâ–¢ .goodbye
â”ƒâ”œâ–¢ .online
â”ƒâ”œâ–¢ .onlineusers
â”ƒâ”œâ–¢ .onlineadmins
â”ƒâ”œâ–¢ .onlinestats
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ       ğ—”ğ—œ ğ— ğ—˜ğ—¡ğ—¨ ğŸ¤–
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .gpt
â”ƒâ”œâ–¢ .gemini
â”ƒâ”œâ–¢ .imagine
â”ƒâ”œâ–¢ .flux
â”ƒâ”œâ–¢ .dalle
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ       ğ—¦ğ—˜ğ—§ğ—§ğ—œğ—¡ğ—šğ—¦ âš™ï¸
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .mode
â”ƒâ”œâ–¢ .autostatus
â”ƒâ”œâ–¢ .clearsession
â”ƒâ”œâ–¢ .cleartmp
â”ƒâ”œâ–¢ .setpp
â”ƒâ”œâ–¢ .autoreact
â”ƒâ”œâ–¢ .areact
â”ƒâ”œâ–¢ .setbotbio
â”ƒâ”œâ–¢ .autotyping
â”ƒâ”œâ–¢ .autorecording
â”ƒâ”œâ–¢ .channelreact
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğ—¦ğ—§ğ—œğ—–ğ—ğ—˜ğ—¥ ğ— ğ—˜ğ—¡ğ—¨ â¤ï¸â€ğŸ”¥
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .blur
â”ƒâ”œâ–¢ .simage
â”ƒâ”œâ–¢ .sticker
â”ƒâ”œâ–¢ .s
â”ƒâ”œâ–¢ .tgsticker
â”ƒâ”œâ–¢ .meme
â”ƒâ”œâ–¢ .take
â”ƒâ”œâ–¢ .emojimix
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğ—˜ğ—«ğ—§ğ—¥ğ—” ğ— ğ—˜ğ—¡ğ—¨ ğŸ› 
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .compliment
â”ƒâ”œâ–¢ .insult
â”ƒâ”œâ–¢ .flirt
â”ƒâ”œâ–¢ .shayari
â”ƒâ”œâ–¢ .goodnight
â”ƒâ”œâ–¢ .roseday
â”ƒâ”œâ–¢ .character
â”ƒâ”œâ–¢ .wasted
â”ƒâ”œâ–¢ .ship
â”ƒâ”œâ–¢ .simp
â”ƒâ”œâ–¢ .stupid
â”ƒâ”œâ–¢ .waste
â”ƒâ”œâ–¢ .gn
â”ƒâ”œâ–¢ .lovenight
â”ƒâ”œâ–¢ .shayri
â”ƒâ”œâ–¢ .itssostupid
â”ƒâ”œâ–¢ .iss
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğ——ğ—˜ğ—¦ğ—œğ—šğ—¡ ğ— ğ—˜ğ—¡ğ—¨ ğŸ”±
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .metallic
â”ƒâ”œâ–¢ .ice
â”ƒâ”œâ–¢ .snow
â”ƒâ”œâ–¢ .impressive
â”ƒâ”œâ–¢ .matrix
â”ƒâ”œâ–¢ .light
â”ƒâ”œâ–¢ .neon
â”ƒâ”œâ–¢ .devil
â”ƒâ”œâ–¢ .purple
â”ƒâ”œâ–¢ .thunder
â”ƒâ”œâ–¢ .leaves
â”ƒâ”œâ–¢ .1917
â”ƒâ”œâ–¢ .arena
â”ƒâ”œâ–¢ .hacker
â”ƒâ”œâ–¢ .sand
â”ƒâ”œâ–¢ .blackpink
â”ƒâ”œâ–¢ .glitch
â”ƒâ”œâ–¢ .fire
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ   ğ——ğ—¢ğ—ªğ—¡ğ—Ÿğ—¢ğ—”ğ——ğ—˜ğ—¥ ğ— ğ—˜ğ—¡ğ—¨ ğŸ“¥
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .play
â”ƒâ”œâ–¢ .song
â”ƒâ”œâ–¢ .music
â”ƒâ”œâ–¢ .mp3
â”ƒâ”œâ–¢ .ytmp3
â”ƒâ”œâ–¢ .yts
â”ƒâ”œâ–¢ .video
â”ƒâ”œâ–¢ .ytmp4
â”ƒâ”œâ–¢ .instagram
â”ƒâ”œâ–¢ .insta
â”ƒâ”œâ–¢ .ig
â”ƒâ”œâ–¢ .facebook
â”ƒâ”œâ–¢ .fb
â”ƒâ”œâ–¢ .tiktok
â”ƒâ”œâ–¢ .tt
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ   ğ—¨ğ—§ğ—œğ—Ÿğ—œğ—§ğ—¬ & ğ—§ğ—¢ğ—¢ğ—Ÿğ—¦ ğŸ› 
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .save
â”ƒâ”œâ–¢ .savecontact
â”ƒâ”œâ–¢ .vcf
â”ƒâ”œâ–¢ .block
â”ƒâ”œâ–¢ .unblock
â”ƒâ”œâ–¢ .pair
â”ƒâ”œâ–¢ .linkdevice
â”ƒâ”œâ–¢ .delete
â”ƒâ”œâ–¢ .del
â”ƒâ”œâ–¢ .vv
â”ƒâ”œâ–¢ .vv2 *[NEW]*
â”ƒâ”œâ–¢ .tourl *[NEW]*
â”ƒâ”œâ–¢ .url *[NEW]*
â”ƒâ”œâ–¢ .upload *[NEW]*
â”ƒâ”œâ–¢ .clear
â”ƒâ”œâ–¢ .warnings
â”ƒâ”œâ–¢ .warn
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğ—¢ğ—§ğ—›ğ—˜ğ—¥ ğ— ğ—˜ğ—¡ğ—¨ ğŸ”®
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .menu
â”ƒâ”œâ–¢ .ping
â”ƒâ”œâ–¢ .alive
â”ƒâ”œâ–¢ .runtime
â”ƒâ”œâ–¢ .uptime
â”ƒâ”œâ–¢ .owner
â”ƒâ”œâ–¢ .quote
â”ƒâ”œâ–¢ .fact
â”ƒâ”œâ–¢ .weather
â”ƒâ”œâ–¢ .news
â”ƒâ”œâ–¢ .groupinfo
â”ƒâ”œâ–¢ .admins
â”ƒâ”œâ–¢ .staff
â”ƒâ”œâ–¢ .jid
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğ—šğ—œğ—§ğ—›ğ—¨ğ—• ğ— ğ—˜ğ—¡ğ—¨ ğŸ“œ
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒâ”œâ–¢ .git
â”ƒâ”œâ–¢ .github
â”ƒâ”œâ–¢ .sc
â”ƒâ”œâ–¢ .script
â”ƒâ”œâ–¢ .repo
â”ƒâ”œâ–¢ .gitclone
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â”ƒ     ğ—”ğ—•ğ—¢ğ—¨ğ—§ ğ—¨ğ—¦
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â”ƒ  ğ‘šğ‘¢ğ‘™ğ‘¡ğ‘–ğ‘‘ğ‘’ğ‘£ğ‘–ğ‘ğ‘’ ğ‘¤â„ğ‘ğ‘¡ğ‘ ğ‘ğ‘ğ‘ ğ‘ğ‘œğ‘¡ â¤ï¸â€ğŸ”¥ 
â”ƒğ‘Ÿğ‘’ğ‘ğ‘œ: github.com/emmyhenz
â”ƒğ¶ğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘œğ‘Ÿ: ğ¸ğ‘šğ‘šğ‘¦ğ»ğ‘’ğ‘›ğ‘§
â”ƒğ¶ğ‘œğ‘›ğ‘¡ğ‘ğ‘ğ‘¡: t.me/EmmyHenz
â”ƒğ‘Œğ‘œğ‘¢ğ‘¡ğ‘¢ğ‘ğ‘’: @ğ¸ğ‘šğ‘šğ‘¦ğ»ğ‘’ğ‘›ğ‘§ğ‘‡ğ‘’ğ‘â„ğ¼ğ‘›ğ‘“ğ‘œ
â”—ââ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;

    try {
        const imagePath = path.join(__dirname, '../assets/menu_image.jpg');
        
        if (fs.existsSync(imagePath)) {
            const imageBuffer = fs.readFileSync(imagePath);
            
            await sock.sendMessage(chatId, {
                image: imageBuffer,
                caption: helpMessage,
                contextInfo: {
                    forwardingScore: 1,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid:   '120363317747980810@newsletter',
                        newsletterName: 'ğŸŒ¿â„ğ„ğŒğŒğ˜ğ‡ğ„ğğ™-ğ•2â„ğŸŒ¿',
                        serverMessageId: -1
                    }
                }
            },{ quoted: message });
        } else {
            console.error('Bot image not found at:', imagePath);
            await sock.sendMessage(chatId, { 
                text: helpMessage,
                contextInfo: {
                    forwardingScore: 1,
                    isForwarded: true,
                    forwardedNewsletterMessageInfo: {
                        newsletterJid:                       '120363317747980810@newsletter',
                        newsletterName: 'ğŸŒ¿â„ğ„ğŒğŒğ˜ğ‡ğ„ğğ™-ğ•2â„ğŸŒ¿',
                        serverMessageId: -1
                    } 
                }
            });
        }
    } catch (error) {
        console.error('Error in help command:', error);
        await sock.sendMessage(chatId, { text: helpMessage });
    }
}

module.exports = helpCommand;
